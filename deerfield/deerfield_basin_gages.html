<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title></title>


<style type="text/css">code{white-space: pre;}</style>
<link href="data:text/css,pre%20%2Eoperator%2C%0Apre%20%2Eparen%20%7B%0A%20color%3A%20rgb%28104%2C%20118%2C%20135%29%0A%7D%0A%0Apre%20%2Eliteral%20%7B%0A%20color%3A%20%23990073%0A%7D%0A%0Apre%20%2Enumber%20%7B%0A%20color%3A%20%23099%3B%0A%7D%0A%0Apre%20%2Ecomment%20%7B%0A%20color%3A%20%23998%3B%0A%20font%2Dstyle%3A%20italic%0A%7D%0A%0Apre%20%2Ekeyword%20%7B%0A%20color%3A%20%23900%3B%0A%20font%2Dweight%3A%20bold%0A%7D%0A%0Apre%20%2Eidentifier%20%7B%0A%20color%3A%20rgb%280%2C%200%2C%200%29%3B%0A%7D%0A%0Apre%20%2Estring%20%7B%0A%20color%3A%20%23d14%3B%0A%7D%0A" rel="stylesheet" type="text/css" />
<script src="data:application/x-javascript,%0Avar%20hljs%3Dnew%20function%28%29%7Bfunction%20m%28p%29%7Breturn%20p%2Ereplace%28%2F%26%2Fgm%2C%22%26amp%3B%22%29%2Ereplace%28%2F%3C%2Fgm%2C%22%26lt%3B%22%29%7Dfunction%20f%28r%2Cq%2Cp%29%7Breturn%20RegExp%28q%2C%22m%22%2B%28r%2EcI%3F%22i%22%3A%22%22%29%2B%28p%3F%22g%22%3A%22%22%29%29%7Dfunction%20b%28r%29%7Bfor%28var%20p%3D0%3Bp%3Cr%2EchildNodes%2Elength%3Bp%2B%2B%29%7Bvar%20q%3Dr%2EchildNodes%5Bp%5D%3Bif%28q%2EnodeName%3D%3D%22CODE%22%29%7Breturn%20q%7Dif%28%21%28q%2EnodeType%3D%3D3%26%26q%2EnodeValue%2Ematch%28%2F%5Cs%2B%2F%29%29%29%7Bbreak%7D%7D%7Dfunction%20h%28t%2Cs%29%7Bvar%20p%3D%22%22%3Bfor%28var%20r%3D0%3Br%3Ct%2EchildNodes%2Elength%3Br%2B%2B%29%7Bif%28t%2EchildNodes%5Br%5D%2EnodeType%3D%3D3%29%7Bvar%20q%3Dt%2EchildNodes%5Br%5D%2EnodeValue%3Bif%28s%29%7Bq%3Dq%2Ereplace%28%2F%5Cn%2Fg%2C%22%22%29%7Dp%2B%3Dq%7Delse%7Bif%28t%2EchildNodes%5Br%5D%2EnodeName%3D%3D%22BR%22%29%7Bp%2B%3D%22%5Cn%22%7Delse%7Bp%2B%3Dh%28t%2EchildNodes%5Br%5D%29%7D%7D%7Dif%28%2FMSIE%20%5B678%5D%2F%2Etest%28navigator%2EuserAgent%29%29%7Bp%3Dp%2Ereplace%28%2F%5Cr%2Fg%2C%22%5Cn%22%29%7Dreturn%20p%7Dfunction%20a%28s%29%7Bvar%20r%3Ds%2EclassName%2Esplit%28%2F%5Cs%2B%2F%29%3Br%3Dr%2Econcat%28s%2EparentNode%2EclassName%2Esplit%28%2F%5Cs%2B%2F%29%29%3Bfor%28var%20q%3D0%3Bq%3Cr%2Elength%3Bq%2B%2B%29%7Bvar%20p%3Dr%5Bq%5D%2Ereplace%28%2F%5Elanguage%2D%2F%2C%22%22%29%3Bif%28e%5Bp%5D%29%7Breturn%20p%7D%7D%7Dfunction%20c%28q%29%7Bvar%20p%3D%5B%5D%3B%28function%28s%2Ct%29%7Bfor%28var%20r%3D0%3Br%3Cs%2EchildNodes%2Elength%3Br%2B%2B%29%7Bif%28s%2EchildNodes%5Br%5D%2EnodeType%3D%3D3%29%7Bt%2B%3Ds%2EchildNodes%5Br%5D%2EnodeValue%2Elength%7Delse%7Bif%28s%2EchildNodes%5Br%5D%2EnodeName%3D%3D%22BR%22%29%7Bt%2B%3D1%7Delse%7Bif%28s%2EchildNodes%5Br%5D%2EnodeType%3D%3D1%29%7Bp%2Epush%28%7Bevent%3A%22start%22%2Coffset%3At%2Cnode%3As%2EchildNodes%5Br%5D%7D%29%3Bt%3Darguments%2Ecallee%28s%2EchildNodes%5Br%5D%2Ct%29%3Bp%2Epush%28%7Bevent%3A%22stop%22%2Coffset%3At%2Cnode%3As%2EchildNodes%5Br%5D%7D%29%7D%7D%7D%7Dreturn%20t%7D%29%28q%2C0%29%3Breturn%20p%7Dfunction%20k%28y%2Cw%2Cx%29%7Bvar%20q%3D0%3Bvar%20z%3D%22%22%3Bvar%20s%3D%5B%5D%3Bfunction%20u%28%29%7Bif%28y%2Elength%26%26w%2Elength%29%7Bif%28y%5B0%5D%2Eoffset%21%3Dw%5B0%5D%2Eoffset%29%7Breturn%28y%5B0%5D%2Eoffset%3Cw%5B0%5D%2Eoffset%29%3Fy%3Aw%7Delse%7Breturn%20w%5B0%5D%2Eevent%3D%3D%22start%22%3Fy%3Aw%7D%7Delse%7Breturn%20y%2Elength%3Fy%3Aw%7D%7Dfunction%20t%28D%29%7Bvar%20A%3D%22%3C%22%2BD%2EnodeName%2EtoLowerCase%28%29%3Bfor%28var%20B%3D0%3BB%3CD%2Eattributes%2Elength%3BB%2B%2B%29%7Bvar%20C%3DD%2Eattributes%5BB%5D%3BA%2B%3D%22%20%22%2BC%2EnodeName%2EtoLowerCase%28%29%3Bif%28C%2Evalue%21%3D%3Dundefined%26%26C%2Evalue%21%3D%3Dfalse%26%26C%2Evalue%21%3D%3Dnull%29%7BA%2B%3D%27%3D%22%27%2Bm%28C%2Evalue%29%2B%27%22%27%7D%7Dreturn%20A%2B%22%3E%22%7Dwhile%28y%2Elength%7C%7Cw%2Elength%29%7Bvar%20v%3Du%28%29%2Esplice%280%2C1%29%5B0%5D%3Bz%2B%3Dm%28x%2Esubstr%28q%2Cv%2Eoffset%2Dq%29%29%3Bq%3Dv%2Eoffset%3Bif%28v%2Eevent%3D%3D%22start%22%29%7Bz%2B%3Dt%28v%2Enode%29%3Bs%2Epush%28v%2Enode%29%7Delse%7Bif%28v%2Eevent%3D%3D%22stop%22%29%7Bvar%20p%2Cr%3Ds%2Elength%3Bdo%7Br%2D%2D%3Bp%3Ds%5Br%5D%3Bz%2B%3D%28%22%3C%2F%22%2Bp%2EnodeName%2EtoLowerCase%28%29%2B%22%3E%22%29%7Dwhile%28p%21%3Dv%2Enode%29%3Bs%2Esplice%28r%2C1%29%3Bwhile%28r%3Cs%2Elength%29%7Bz%2B%3Dt%28s%5Br%5D%29%3Br%2B%2B%7D%7D%7D%7Dreturn%20z%2Bm%28x%2Esubstr%28q%29%29%7Dfunction%20j%28%29%7Bfunction%20q%28x%2Cy%2Cv%29%7Bif%28x%2Ecompiled%29%7Breturn%7Dvar%20u%3Bvar%20s%3D%5B%5D%3Bif%28x%2Ek%29%7Bx%2ElR%3Df%28y%2Cx%2El%7C%7Chljs%2EIR%2Ctrue%29%3Bfor%28var%20w%20in%20x%2Ek%29%7Bif%28%21x%2Ek%2EhasOwnProperty%28w%29%29%7Bcontinue%7Dif%28x%2Ek%5Bw%5D%20instanceof%20Object%29%7Bu%3Dx%2Ek%5Bw%5D%7Delse%7Bu%3Dx%2Ek%3Bw%3D%22keyword%22%7Dfor%28var%20r%20in%20u%29%7Bif%28%21u%2EhasOwnProperty%28r%29%29%7Bcontinue%7Dx%2Ek%5Br%5D%3D%5Bw%2Cu%5Br%5D%5D%3Bs%2Epush%28r%29%7D%7D%7Dif%28%21v%29%7Bif%28x%2EbWK%29%7Bx%2Eb%3D%22%5C%5Cb%28%22%2Bs%2Ejoin%28%22%7C%22%29%2B%22%29%5C%5Cs%22%7Dx%2EbR%3Df%28y%2Cx%2Eb%3Fx%2Eb%3A%22%5C%5CB%7C%5C%5Cb%22%29%3Bif%28%21x%2Ee%26%26%21x%2EeW%29%7Bx%2Ee%3D%22%5C%5CB%7C%5C%5Cb%22%7Dif%28x%2Ee%29%7Bx%2EeR%3Df%28y%2Cx%2Ee%29%7D%7Dif%28x%2Ei%29%7Bx%2EiR%3Df%28y%2Cx%2Ei%29%7Dif%28x%2Er%3D%3D%3Dundefined%29%7Bx%2Er%3D1%7Dif%28%21x%2Ec%29%7Bx%2Ec%3D%5B%5D%7Dx%2Ecompiled%3Dtrue%3Bfor%28var%20t%3D0%3Bt%3Cx%2Ec%2Elength%3Bt%2B%2B%29%7Bif%28x%2Ec%5Bt%5D%3D%3D%22self%22%29%7Bx%2Ec%5Bt%5D%3Dx%7Dq%28x%2Ec%5Bt%5D%2Cy%2Cfalse%29%7Dif%28x%2Estarts%29%7Bq%28x%2Estarts%2Cy%2Cfalse%29%7D%7Dfor%28var%20p%20in%20e%29%7Bif%28%21e%2EhasOwnProperty%28p%29%29%7Bcontinue%7Dq%28e%5Bp%5D%2EdM%2Ce%5Bp%5D%2Ctrue%29%7D%7Dfunction%20d%28B%2CC%29%7Bif%28%21j%2Ecalled%29%7Bj%28%29%3Bj%2Ecalled%3Dtrue%7Dfunction%20q%28r%2CM%29%7Bfor%28var%20L%3D0%3BL%3CM%2Ec%2Elength%3BL%2B%2B%29%7Bif%28%28M%2Ec%5BL%5D%2EbR%2Eexec%28r%29%7C%7C%5Bnull%5D%29%5B0%5D%3D%3Dr%29%7Breturn%20M%2Ec%5BL%5D%7D%7D%7Dfunction%20v%28L%2Cr%29%7Bif%28D%5BL%5D%2Ee%26%26D%5BL%5D%2EeR%2Etest%28r%29%29%7Breturn%201%7Dif%28D%5BL%5D%2EeW%29%7Bvar%20M%3Dv%28L%2D1%2Cr%29%3Breturn%20M%3FM%2B1%3A0%7Dreturn%200%7Dfunction%20w%28r%2CL%29%7Breturn%20L%2Ei%26%26L%2EiR%2Etest%28r%29%7Dfunction%20K%28N%2CO%29%7Bvar%20M%3D%5B%5D%3Bfor%28var%20L%3D0%3BL%3CN%2Ec%2Elength%3BL%2B%2B%29%7BM%2Epush%28N%2Ec%5BL%5D%2Eb%29%7Dvar%20r%3DD%2Elength%2D1%3Bdo%7Bif%28D%5Br%5D%2Ee%29%7BM%2Epush%28D%5Br%5D%2Ee%29%7Dr%2D%2D%7Dwhile%28D%5Br%2B1%5D%2EeW%29%3Bif%28N%2Ei%29%7BM%2Epush%28N%2Ei%29%7Dreturn%20f%28O%2CM%2Ejoin%28%22%7C%22%29%2Ctrue%29%7Dfunction%20p%28M%2CL%29%7Bvar%20N%3DD%5BD%2Elength%2D1%5D%3Bif%28%21N%2Et%29%7BN%2Et%3DK%28N%2CE%29%7DN%2Et%2ElastIndex%3DL%3Bvar%20r%3DN%2Et%2Eexec%28M%29%3Breturn%20r%3F%5BM%2Esubstr%28L%2Cr%2Eindex%2DL%29%2Cr%5B0%5D%2Cfalse%5D%3A%5BM%2Esubstr%28L%29%2C%22%22%2Ctrue%5D%7Dfunction%20z%28N%2Cr%29%7Bvar%20L%3DE%2EcI%3Fr%5B0%5D%2EtoLowerCase%28%29%3Ar%5B0%5D%3Bvar%20M%3DN%2Ek%5BL%5D%3Bif%28M%26%26M%20instanceof%20Array%29%7Breturn%20M%7Dreturn%20false%7Dfunction%20F%28L%2CP%29%7BL%3Dm%28L%29%3Bif%28%21P%2Ek%29%7Breturn%20L%7Dvar%20r%3D%22%22%3Bvar%20O%3D0%3BP%2ElR%2ElastIndex%3D0%3Bvar%20M%3DP%2ElR%2Eexec%28L%29%3Bwhile%28M%29%7Br%2B%3DL%2Esubstr%28O%2CM%2Eindex%2DO%29%3Bvar%20N%3Dz%28P%2CM%29%3Bif%28N%29%7Bx%2B%3DN%5B1%5D%3Br%2B%3D%27%3Cspan%20class%3D%22%27%2BN%5B0%5D%2B%27%22%3E%27%2BM%5B0%5D%2B%22%3C%2Fspan%3E%22%7Delse%7Br%2B%3DM%5B0%5D%7DO%3DP%2ElR%2ElastIndex%3BM%3DP%2ElR%2Eexec%28L%29%7Dreturn%20r%2BL%2Esubstr%28O%2CL%2Elength%2DO%29%7Dfunction%20J%28L%2CM%29%7Bif%28M%2EsL%26%26e%5BM%2EsL%5D%29%7Bvar%20r%3Dd%28M%2EsL%2CL%29%3Bx%2B%3Dr%2Ekeyword%5Fcount%3Breturn%20r%2Evalue%7Delse%7Breturn%20F%28L%2CM%29%7D%7Dfunction%20I%28M%2Cr%29%7Bvar%20L%3DM%2EcN%3F%27%3Cspan%20class%3D%22%27%2BM%2EcN%2B%27%22%3E%27%3A%22%22%3Bif%28M%2ErB%29%7By%2B%3DL%3BM%2Ebuffer%3D%22%22%7Delse%7Bif%28M%2EeB%29%7By%2B%3Dm%28r%29%2BL%3BM%2Ebuffer%3D%22%22%7Delse%7By%2B%3DL%3BM%2Ebuffer%3Dr%7D%7DD%2Epush%28M%29%3BA%2B%3DM%2Er%7Dfunction%20G%28N%2CM%2CQ%29%7Bvar%20R%3DD%5BD%2Elength%2D1%5D%3Bif%28Q%29%7By%2B%3DJ%28R%2Ebuffer%2BN%2CR%29%3Breturn%20false%7Dvar%20P%3Dq%28M%2CR%29%3Bif%28P%29%7By%2B%3DJ%28R%2Ebuffer%2BN%2CR%29%3BI%28P%2CM%29%3Breturn%20P%2ErB%7Dvar%20L%3Dv%28D%2Elength%2D1%2CM%29%3Bif%28L%29%7Bvar%20O%3DR%2EcN%3F%22%3C%2Fspan%3E%22%3A%22%22%3Bif%28R%2ErE%29%7By%2B%3DJ%28R%2Ebuffer%2BN%2CR%29%2BO%7Delse%7Bif%28R%2EeE%29%7By%2B%3DJ%28R%2Ebuffer%2BN%2CR%29%2BO%2Bm%28M%29%7Delse%7By%2B%3DJ%28R%2Ebuffer%2BN%2BM%2CR%29%2BO%7D%7Dwhile%28L%3E1%29%7BO%3DD%5BD%2Elength%2D2%5D%2EcN%3F%22%3C%2Fspan%3E%22%3A%22%22%3By%2B%3DO%3BL%2D%2D%3BD%2Elength%2D%2D%7Dvar%20r%3DD%5BD%2Elength%2D1%5D%3BD%2Elength%2D%2D%3BD%5BD%2Elength%2D1%5D%2Ebuffer%3D%22%22%3Bif%28r%2Estarts%29%7BI%28r%2Estarts%2C%22%22%29%7Dreturn%20R%2ErE%7Dif%28w%28M%2CR%29%29%7Bthrow%22Illegal%22%7D%7Dvar%20E%3De%5BB%5D%3Bvar%20D%3D%5BE%2EdM%5D%3Bvar%20A%3D0%3Bvar%20x%3D0%3Bvar%20y%3D%22%22%3Btry%7Bvar%20s%2Cu%3D0%3BE%2EdM%2Ebuffer%3D%22%22%3Bdo%7Bs%3Dp%28C%2Cu%29%3Bvar%20t%3DG%28s%5B0%5D%2Cs%5B1%5D%2Cs%5B2%5D%29%3Bu%2B%3Ds%5B0%5D%2Elength%3Bif%28%21t%29%7Bu%2B%3Ds%5B1%5D%2Elength%7D%7Dwhile%28%21s%5B2%5D%29%3Bif%28D%2Elength%3E1%29%7Bthrow%22Illegal%22%7Dreturn%7Br%3AA%2Ckeyword%5Fcount%3Ax%2Cvalue%3Ay%7D%7Dcatch%28H%29%7Bif%28H%3D%3D%22Illegal%22%29%7Breturn%7Br%3A0%2Ckeyword%5Fcount%3A0%2Cvalue%3Am%28C%29%7D%7Delse%7Bthrow%20H%7D%7D%7Dfunction%20g%28t%29%7Bvar%20p%3D%7Bkeyword%5Fcount%3A0%2Cr%3A0%2Cvalue%3Am%28t%29%7D%3Bvar%20r%3Dp%3Bfor%28var%20q%20in%20e%29%7Bif%28%21e%2EhasOwnProperty%28q%29%29%7Bcontinue%7Dvar%20s%3Dd%28q%2Ct%29%3Bs%2Elanguage%3Dq%3Bif%28s%2Ekeyword%5Fcount%2Bs%2Er%3Er%2Ekeyword%5Fcount%2Br%2Er%29%7Br%3Ds%7Dif%28s%2Ekeyword%5Fcount%2Bs%2Er%3Ep%2Ekeyword%5Fcount%2Bp%2Er%29%7Br%3Dp%3Bp%3Ds%7D%7Dif%28r%2Elanguage%29%7Bp%2Esecond%5Fbest%3Dr%7Dreturn%20p%7Dfunction%20i%28r%2Cq%2Cp%29%7Bif%28q%29%7Br%3Dr%2Ereplace%28%2F%5E%28%28%3C%5B%5E%3E%5D%2B%3E%7C%5Ct%29%2B%29%2Fgm%2Cfunction%28t%2Cw%2Cv%2Cu%29%7Breturn%20w%2Ereplace%28%2F%5Ct%2Fg%2Cq%29%7D%29%7Dif%28p%29%7Br%3Dr%2Ereplace%28%2F%5Cn%2Fg%2C%22%3Cbr%3E%22%29%7Dreturn%20r%7Dfunction%20n%28t%2Cw%2Cr%29%7Bvar%20x%3Dh%28t%2Cr%29%3Bvar%20v%3Da%28t%29%3Bvar%20y%2Cs%3Bif%28v%29%7By%3Dd%28v%2Cx%29%7Delse%7Breturn%7Dvar%20q%3Dc%28t%29%3Bif%28q%2Elength%29%7Bs%3Ddocument%2EcreateElement%28%22pre%22%29%3Bs%2EinnerHTML%3Dy%2Evalue%3By%2Evalue%3Dk%28q%2Cc%28s%29%2Cx%29%7Dy%2Evalue%3Di%28y%2Evalue%2Cw%2Cr%29%3Bvar%20u%3Dt%2EclassName%3Bif%28%21u%2Ematch%28%22%28%5C%5Cs%7C%5E%29%28language%2D%29%3F%22%2Bv%2B%22%28%5C%5Cs%7C%24%29%22%29%29%7Bu%3Du%3F%28u%2B%22%20%22%2Bv%29%3Av%7Dif%28%2FMSIE%20%5B678%5D%2F%2Etest%28navigator%2EuserAgent%29%26%26t%2EtagName%3D%3D%22CODE%22%26%26t%2EparentNode%2EtagName%3D%3D%22PRE%22%29%7Bs%3Dt%2EparentNode%3Bvar%20p%3Ddocument%2EcreateElement%28%22div%22%29%3Bp%2EinnerHTML%3D%22%3Cpre%3E%3Ccode%3E%22%2By%2Evalue%2B%22%3C%2Fcode%3E%3C%2Fpre%3E%22%3Bt%3Dp%2EfirstChild%2EfirstChild%3Bp%2EfirstChild%2EcN%3Ds%2EcN%3Bs%2EparentNode%2EreplaceChild%28p%2EfirstChild%2Cs%29%7Delse%7Bt%2EinnerHTML%3Dy%2Evalue%7Dt%2EclassName%3Du%3Bt%2Eresult%3D%7Blanguage%3Av%2Ckw%3Ay%2Ekeyword%5Fcount%2Cre%3Ay%2Er%7D%3Bif%28y%2Esecond%5Fbest%29%7Bt%2Esecond%5Fbest%3D%7Blanguage%3Ay%2Esecond%5Fbest%2Elanguage%2Ckw%3Ay%2Esecond%5Fbest%2Ekeyword%5Fcount%2Cre%3Ay%2Esecond%5Fbest%2Er%7D%7D%7Dfunction%20o%28%29%7Bif%28o%2Ecalled%29%7Breturn%7Do%2Ecalled%3Dtrue%3Bvar%20r%3Ddocument%2EgetElementsByTagName%28%22pre%22%29%3Bfor%28var%20p%3D0%3Bp%3Cr%2Elength%3Bp%2B%2B%29%7Bvar%20q%3Db%28r%5Bp%5D%29%3Bif%28q%29%7Bn%28q%2Chljs%2EtabReplace%29%7D%7D%7Dfunction%20l%28%29%7Bif%28window%2EaddEventListener%29%7Bwindow%2EaddEventListener%28%22DOMContentLoaded%22%2Co%2Cfalse%29%3Bwindow%2EaddEventListener%28%22load%22%2Co%2Cfalse%29%7Delse%7Bif%28window%2EattachEvent%29%7Bwindow%2EattachEvent%28%22onload%22%2Co%29%7Delse%7Bwindow%2Eonload%3Do%7D%7D%7Dvar%20e%3D%7B%7D%3Bthis%2ELANGUAGES%3De%3Bthis%2Ehighlight%3Dd%3Bthis%2EhighlightAuto%3Dg%3Bthis%2EfixMarkup%3Di%3Bthis%2EhighlightBlock%3Dn%3Bthis%2EinitHighlighting%3Do%3Bthis%2EinitHighlightingOnLoad%3Dl%3Bthis%2EIR%3D%22%5Ba%2DzA%2DZ%5D%5Ba%2DzA%2DZ0%2D9%5F%5D%2A%22%3Bthis%2EUIR%3D%22%5Ba%2DzA%2DZ%5F%5D%5Ba%2DzA%2DZ0%2D9%5F%5D%2A%22%3Bthis%2ENR%3D%22%5C%5Cb%5C%5Cd%2B%28%5C%5C%2E%5C%5Cd%2B%29%3F%22%3Bthis%2ECNR%3D%22%5C%5Cb%280%5BxX%5D%5Ba%2DfA%2DF0%2D9%5D%2B%7C%28%5C%5Cd%2B%28%5C%5C%2E%5C%5Cd%2A%29%3F%7C%5C%5C%2E%5C%5Cd%2B%29%28%5BeE%5D%5B%2D%2B%5D%3F%5C%5Cd%2B%29%3F%29%22%3Bthis%2EBNR%3D%22%5C%5Cb%280b%5B01%5D%2B%29%22%3Bthis%2ERSR%3D%22%21%7C%21%3D%7C%21%3D%3D%7C%25%7C%25%3D%7C%26%7C%26%26%7C%26%3D%7C%5C%5C%2A%7C%5C%5C%2A%3D%7C%5C%5C%2B%7C%5C%5C%2B%3D%7C%2C%7C%5C%5C%2E%7C%2D%7C%2D%3D%7C%2F%7C%2F%3D%7C%3A%7C%3B%7C%3C%7C%3C%3C%7C%3C%3C%3D%7C%3C%3D%7C%3D%7C%3D%3D%7C%3D%3D%3D%7C%3E%7C%3E%3D%7C%3E%3E%7C%3E%3E%3D%7C%3E%3E%3E%7C%3E%3E%3E%3D%7C%5C%5C%3F%7C%5C%5C%5B%7C%5C%5C%7B%7C%5C%5C%28%7C%5C%5C%5E%7C%5C%5C%5E%3D%7C%5C%5C%7C%7C%5C%5C%7C%3D%7C%5C%5C%7C%5C%5C%7C%7C%7E%22%3Bthis%2EER%3D%22%28%3F%21%5B%5C%5Cs%5C%5CS%5D%29%22%3Bthis%2EBE%3D%7Bb%3A%22%5C%5C%5C%5C%2E%22%2Cr%3A0%7D%3Bthis%2EASM%3D%7BcN%3A%22string%22%2Cb%3A%22%27%22%2Ce%3A%22%27%22%2Ci%3A%22%5C%5Cn%22%2Cc%3A%5Bthis%2EBE%5D%2Cr%3A0%7D%3Bthis%2EQSM%3D%7BcN%3A%22string%22%2Cb%3A%27%22%27%2Ce%3A%27%22%27%2Ci%3A%22%5C%5Cn%22%2Cc%3A%5Bthis%2EBE%5D%2Cr%3A0%7D%3Bthis%2ECLCM%3D%7BcN%3A%22comment%22%2Cb%3A%22%2F%2F%22%2Ce%3A%22%24%22%7D%3Bthis%2ECBLCLM%3D%7BcN%3A%22comment%22%2Cb%3A%22%2F%5C%5C%2A%22%2Ce%3A%22%5C%5C%2A%2F%22%7D%3Bthis%2EHCM%3D%7BcN%3A%22comment%22%2Cb%3A%22%23%22%2Ce%3A%22%24%22%7D%3Bthis%2ENM%3D%7BcN%3A%22number%22%2Cb%3Athis%2ENR%2Cr%3A0%7D%3Bthis%2ECNM%3D%7BcN%3A%22number%22%2Cb%3Athis%2ECNR%2Cr%3A0%7D%3Bthis%2EBNM%3D%7BcN%3A%22number%22%2Cb%3Athis%2EBNR%2Cr%3A0%7D%3Bthis%2Einherit%3Dfunction%28r%2Cs%29%7Bvar%20p%3D%7B%7D%3Bfor%28var%20q%20in%20r%29%7Bp%5Bq%5D%3Dr%5Bq%5D%7Dif%28s%29%7Bfor%28var%20q%20in%20s%29%7Bp%5Bq%5D%3Ds%5Bq%5D%7D%7Dreturn%20p%7D%7D%28%29%3Bhljs%2ELANGUAGES%2Ecpp%3Dfunction%28%29%7Bvar%20a%3D%7Bkeyword%3A%7B%22false%22%3A1%2C%22int%22%3A1%2C%22float%22%3A1%2C%22while%22%3A1%2C%22private%22%3A1%2C%22char%22%3A1%2C%22catch%22%3A1%2C%22export%22%3A1%2Cvirtual%3A1%2Coperator%3A2%2Csizeof%3A2%2Cdynamic%5Fcast%3A2%2Ctypedef%3A2%2Cconst%5Fcast%3A2%2C%22const%22%3A1%2Cstruct%3A1%2C%22for%22%3A1%2Cstatic%5Fcast%3A2%2Cunion%3A1%2Cnamespace%3A1%2Cunsigned%3A1%2C%22long%22%3A1%2C%22throw%22%3A1%2C%22volatile%22%3A2%2C%22static%22%3A1%2C%22protected%22%3A1%2Cbool%3A1%2Ctemplate%3A1%2Cmutable%3A1%2C%22if%22%3A1%2C%22public%22%3A1%2Cfriend%3A2%2C%22do%22%3A1%2C%22return%22%3A1%2C%22goto%22%3A1%2Cauto%3A1%2C%22void%22%3A2%2C%22enum%22%3A1%2C%22else%22%3A1%2C%22break%22%3A1%2C%22new%22%3A1%2Cextern%3A1%2Cusing%3A1%2C%22true%22%3A1%2C%22class%22%3A1%2Casm%3A1%2C%22case%22%3A1%2Ctypeid%3A1%2C%22short%22%3A1%2Creinterpret%5Fcast%3A2%2C%22default%22%3A1%2C%22double%22%3A1%2Cregister%3A1%2Cexplicit%3A1%2Csigned%3A1%2Ctypename%3A1%2C%22try%22%3A1%2C%22this%22%3A1%2C%22switch%22%3A1%2C%22continue%22%3A1%2Cwchar%5Ft%3A1%2Cinline%3A1%2C%22delete%22%3A1%2Calignof%3A1%2Cchar16%5Ft%3A1%2Cchar32%5Ft%3A1%2Cconstexpr%3A1%2Cdecltype%3A1%2Cnoexcept%3A1%2Cnullptr%3A1%2Cstatic%5Fassert%3A1%2Cthread%5Flocal%3A1%2Crestrict%3A1%2C%5FBool%3A1%2Ccomplex%3A1%7D%2Cbuilt%5Fin%3A%7Bstd%3A1%2Cstring%3A1%2Ccin%3A1%2Ccout%3A1%2Ccerr%3A1%2Cclog%3A1%2Cstringstream%3A1%2Cistringstream%3A1%2Costringstream%3A1%2Cauto%5Fptr%3A1%2Cdeque%3A1%2Clist%3A1%2Cqueue%3A1%2Cstack%3A1%2Cvector%3A1%2Cmap%3A1%2Cset%3A1%2Cbitset%3A1%2Cmultiset%3A1%2Cmultimap%3A1%2Cunordered%5Fset%3A1%2Cunordered%5Fmap%3A1%2Cunordered%5Fmultiset%3A1%2Cunordered%5Fmultimap%3A1%2Carray%3A1%2Cshared%5Fptr%3A1%7D%7D%3Breturn%7BdM%3A%7Bk%3Aa%2Ci%3A%22%3C%2F%22%2Cc%3A%5Bhljs%2ECLCM%2Chljs%2ECBLCLM%2Chljs%2EQSM%2C%7BcN%3A%22string%22%2Cb%3A%22%27%5C%5C%5C%5C%3F%2E%22%2Ce%3A%22%27%22%2Ci%3A%22%2E%22%7D%2C%7BcN%3A%22number%22%2Cb%3A%22%5C%5Cb%28%5C%5Cd%2B%28%5C%5C%2E%5C%5Cd%2A%29%3F%7C%5C%5C%2E%5C%5Cd%2B%29%28u%7CU%7Cl%7CL%7Cul%7CUL%7Cf%7CF%29%22%7D%2Chljs%2ECNM%2C%7BcN%3A%22preprocessor%22%2Cb%3A%22%23%22%2Ce%3A%22%24%22%7D%2C%7BcN%3A%22stl%5Fcontainer%22%2Cb%3A%22%5C%5Cb%28deque%7Clist%7Cqueue%7Cstack%7Cvector%7Cmap%7Cset%7Cbitset%7Cmultiset%7Cmultimap%7Cunordered%5Fmap%7Cunordered%5Fset%7Cunordered%5Fmultiset%7Cunordered%5Fmultimap%7Carray%29%5C%5Cs%2A%3C%22%2Ce%3A%22%3E%22%2Ck%3Aa%2Cr%3A10%2Cc%3A%5B%22self%22%5D%7D%5D%7D%7D%7D%28%29%3Bhljs%2ELANGUAGES%2Er%3D%7BdM%3A%7Bc%3A%5Bhljs%2EHCM%2C%7BcN%3A%22number%22%2Cb%3A%22%5C%5Cb0%5BxX%5D%5B0%2D9a%2DfA%2DF%5D%2B%5BLi%5D%3F%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A0%7D%2C%7BcN%3A%22number%22%2Cb%3A%22%5C%5Cb%5C%5Cd%2B%28%3F%3A%5BeE%5D%5B%2B%5C%5C%2D%5D%3F%5C%5Cd%2A%29%3FL%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A0%7D%2C%7BcN%3A%22number%22%2Cb%3A%22%5C%5Cb%5C%5Cd%2B%5C%5C%2E%28%3F%21%5C%5Cd%29%28%3F%3Ai%5C%5Cb%29%3F%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A1%7D%2C%7BcN%3A%22number%22%2Cb%3A%22%5C%5Cb%5C%5Cd%2B%28%3F%3A%5C%5C%2E%5C%5Cd%2A%29%3F%28%3F%3A%5BeE%5D%5B%2B%5C%5C%2D%5D%3F%5C%5Cd%2A%29%3Fi%3F%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A0%7D%2C%7BcN%3A%22number%22%2Cb%3A%22%5C%5C%2E%5C%5Cd%2B%28%3F%3A%5BeE%5D%5B%2B%5C%5C%2D%5D%3F%5C%5Cd%2A%29%3Fi%3F%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A1%7D%2C%7BcN%3A%22keyword%22%2Cb%3A%22%28%3F%3AtryCatch%7Clibrary%7CsetGeneric%7CsetGroupGeneric%29%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A10%7D%2C%7BcN%3A%22keyword%22%2Cb%3A%22%5C%5C%2E%5C%5C%2E%5C%5C%2E%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A10%7D%2C%7BcN%3A%22keyword%22%2Cb%3A%22%5C%5C%2E%5C%5C%2E%5C%5Cd%2B%28%3F%21%5B%5C%5Cw%2E%5D%29%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A10%7D%2C%7BcN%3A%22keyword%22%2Cb%3A%22%5C%5Cb%28%3F%3Afunction%29%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A2%7D%2C%7BcN%3A%22keyword%22%2Cb%3A%22%28%3F%3Aif%7Cin%7Cbreak%7Cnext%7Crepeat%7Celse%7Cfor%7Creturn%7Cswitch%7Cwhile%7Ctry%7Cstop%7Cwarning%7Crequire%7Cattach%7Cdetach%7Csource%7CsetMethod%7CsetClass%29%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A1%7D%2C%7BcN%3A%22literal%22%2Cb%3A%22%28%3F%3ANA%7CNA%5Finteger%5F%7CNA%5Freal%5F%7CNA%5Fcharacter%5F%7CNA%5Fcomplex%5F%29%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A10%7D%2C%7BcN%3A%22literal%22%2Cb%3A%22%28%3F%3ANULL%7CTRUE%7CFALSE%7CT%7CF%7CInf%7CNaN%29%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A1%7D%2C%7BcN%3A%22identifier%22%2Cb%3A%22%5Ba%2DzA%2DZ%2E%5D%5Ba%2DzA%2DZ0%2D9%2E%5F%5D%2A%5C%5Cb%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A0%7D%2C%7BcN%3A%22operator%22%2Cb%3A%22%3C%5C%5C%2D%28%3F%21%5C%5Cs%2A%5C%5Cd%29%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A2%7D%2C%7BcN%3A%22operator%22%2Cb%3A%22%5C%5C%2D%3E%7C%3C%5C%5C%2D%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A1%7D%2C%7BcN%3A%22operator%22%2Cb%3A%22%25%25%7C%7E%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%7D%2C%7BcN%3A%22operator%22%2Cb%3A%22%3E%3D%7C%3C%3D%7C%3D%3D%7C%21%3D%7C%5C%5C%7C%5C%5C%7C%7C%26%26%7C%3D%7C%5C%5C%2B%7C%5C%5C%2D%7C%5C%5C%2A%7C%2F%7C%5C%5C%5E%7C%3E%7C%3C%7C%21%7C%26%7C%5C%5C%7C%7C%5C%5C%24%7C%3A%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A0%7D%2C%7BcN%3A%22operator%22%2Cb%3A%22%25%22%2Ce%3A%22%25%22%2Ci%3A%22%5C%5Cn%22%2Cr%3A1%7D%2C%7BcN%3A%22identifier%22%2Cb%3A%22%60%22%2Ce%3A%22%60%22%2Cr%3A0%7D%2C%7BcN%3A%22string%22%2Cb%3A%27%22%27%2Ce%3A%27%22%27%2Cc%3A%5Bhljs%2EBE%5D%2Cr%3A0%7D%2C%7BcN%3A%22string%22%2Cb%3A%22%27%22%2Ce%3A%22%27%22%2Cc%3A%5Bhljs%2EBE%5D%2Cr%3A0%7D%2C%7BcN%3A%22paren%22%2Cb%3A%22%5B%5B%28%7B%5C%5C%5D%29%7D%5D%22%2Ce%3Ahljs%2EIMMEDIATE%5FRE%2Cr%3A0%7D%5D%7D%7D%3B%0Ahljs%2EinitHighlightingOnLoad%28%29%3B%0A%0A"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>


<link href="data:text/css,body%2C%20td%20%7B%0A%09background%2Dcolor%3A%20%23E9EDF5%3B%0A%09font%2Dsize%3A%2012px%3B%0A%09margin%3A%200%3B%0A%09text%2Dalign%3A%20left%3B%0A%09font%2Dweight%3A%20normal%3B%0A%09font%2Dfamily%3A%20%22Open%20Sans%22%2C%22Segoe%20UI%20Light%22%2C%20sans%2Dserif%3B%0A%7D%0A%0Att%2C%20code%2C%20pre%20%7B%0A%20%20%20font%2Dfamily%3A%20%27Courier%20New%27%2C%20%27Courier%27%2C%20monospace%3B%0A%7D%0A%0Adiv%20%7B%0A%09padding%2Dright%3A%200px%3B%0A%09padding%2Dleft%3A%200px%3B%0A%09max%2Dwidth%3A%20100%25%3B%0A%09margin%2Dleft%3A%200%3B%0A%09margin%2Dright%3A%200%3B%0A%7D%0A%0A%2Econtainer%2Dfluid%2C%20%2Emain%2Dcontainer%20%20%7B%0A%09max%2Dwidth%3A%20100%25%3B%0A%09margin%2Dleft%3A%200%3B%0A%09margin%2Dright%3A%200%3B%0A%09padding%2Dright%3A%200px%3B%0A%09padding%2Dleft%3A%200px%3B%0A%7D%0A%0Ah1%2C%20h2%2C%20h3%20%7B%0A%09text%2Dalign%3A%20left%3B%0A%09font%2Dweight%3A%20normal%3B%0A%0A%7D%0A%0A%0Ah1%20%7B%20%0A%09font%2Dsize%3A%2040px%3B%20%0A%09line%2Dheight%3A%2040px%3B%0A%09color%3A%20white%3B%0A%09background%2Dcolor%3A%20black%3B%0A%09padding%2Dtop%3A%20100px%3B%0A%09padding%2Dleft%3A%2070px%3B%0A%09padding%2Dright%3A%2070px%3B%0A%09padding%2Dbottom%3A%2010px%3B%0A%09margin%3A%200%3B%0A%7D%0A%0Ah2%20%7B%20%0A%09font%2Dsize%3A%2024px%3B%09%0A%09line%2Dheight%3A%2030px%3B%09%0A%09color%3A%20darkslategray%3B%0A%09padding%2Dleft%3A%2070px%3B%0A%09padding%2Dright%3A%2070px%3B%0A%09padding%2Dtop%3A%2020px%3B%0A%09padding%2Dbottom%3A%2020px%3B%0A%7D%0A%0Ah3%20%7B%20%0A%09font%2Dsize%3A20px%3B%20%0A%09background%2Dcolor%3A%23B3CAE3%3B%0A%09margin%2Dtop%3A%2070px%3B%0A%09margin%2Dbottom%3A%2010px%3B%0A%09margin%2Dleft%3A%2035px%3B%0A%09margin%2Dright%3A%2035px%3B%0A%09padding%2Dleft%3A%2035px%3B%0A%09padding%2Dright%3A%2035px%3B%0A%09padding%2Dbottom%3A%2015px%3B%0A%09padding%2Dtop%3A%2030px%3B%09%0A%09border%2Dstyle%3A%20solid%3B%0A%09border%2Dtop%3A%200%3B%0A%09border%2Dleft%3A%200%3B%0A%09border%2Dwidth%3A%202px%3B%0A%09border%2Dcolor%3A%20%23D3DAE8%3B%0A%7D%0A%0A%0Ah4%20%7B%20%0A%20%20%20font%2Dsize%3A16px%3B%20%0A%20%20%20padding%2Dleft%3A%2070px%3B%0A%7D%0A%0Ah5%20%7B%20%0A%20%20%20font%2Dsize%3A14px%3B%20%0A%20%20%20padding%2Dleft%3A%2070px%3B%0A%7D%0A%0Ah6%20%7B%20%0A%20%20%20font%2Dsize%3A0%2E8em%3B%20%0A%7D%0A%0A%0Ap%2Ecaption%20%7B%0A%20%20%20font%2Dsize%3A16px%3B%20%0A%20%20%20padding%2Dleft%3A%2070px%3B%0A%7D%0A%0A%0Aul%20%7B%20%0A%20%20%20font%2Dsize%3A14px%3B%20%0A%20%20%20padding%2Dleft%3A%2070px%3B%0A%7D%0A%0Aa%3Avisited%20%7B%0A%20%20%20color%3A%20rgb%2850%25%2C%200%25%2C%2050%25%29%3B%0A%7D%0A%0Apre%20%7B%09%0A%09border%3A%200px%20solid%20%23ccc%3B%0A%09white%2Dspace%3A%20pre%2Dwrap%3B%0A%09margin%2Dleft%3A%2070px%3B%0A%09margin%2Dright%3A%2070px%3B%0A%09padding%3A%200%3B%0A%09%7D%0A%09%0Apre%2Er%20%7B%0A%09background%2Dcolor%3A%20%23D3DAE8%3B%0A%09padding%2Dleft%3A%200%3B%0A%09padding%2Dtop%3A%200%3B%0A%09padding%2Dright%3A%202px%3B%0A%09padding%2Dbottom%3A%202px%3B%0A%7D%0A%0Apre%20code%20%7B%0A%09display%3A%20block%3B%20padding%3A%200%2E5em%3B%0A%09border%2Dradius%3A%200%3B%0A%09background%2Dcolor%3A%20%23E9EDF5%3B%0A%7D%0A%0Acode%2Er%2C%20code%2Ecpp%20%7B%0A%20%20%20background%2Dcolor%3A%20white%3B%0A%20%20%20padding%3A%2020px%3B%0A%7D%0A%0Aimg%20%7B%0A%09margin%2Dleft%3A%2070px%3B%0A%09margin%2Dright%3A%2070px%3B%0A%09background%2Dcolor%3A%20white%3B%0A%7D%0A%0Atable%2C%20td%2C%20th%20%7B%0A%20%20border%3A%20none%3B%0A%7D%0A%0Atable%20%7B%0A%20%20%20%20%20padding%2Dleft%3A%2070px%3B%0A%7D%0A%0Atd%20%7B%0A%20%20%20%20%20background%2Dcolor%3A%20white%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20%20color%3A%23666666%3B%0A%20%20%20margin%3A0%3B%0A%20%20%20padding%2Dleft%3A%201em%3B%0A%20%20%20border%2Dleft%3A%200%2E5em%20%23EEE%20solid%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20%20height%3A%200px%3B%0A%20%20%20border%2Dbottom%3A%20none%3B%0A%20%20%20border%2Dtop%2Dwidth%3A%20thin%3B%0A%20%20%20border%2Dtop%2Dstyle%3A%20dotted%3B%0A%20%20%20border%2Dtop%2Dcolor%3A%20%23999999%3B%0A%7D%0A%0A%40media%20print%20%7B%0A%20%20%20%2A%20%7B%20%0A%20%20%20%20%20%20background%3A%20transparent%20%21important%3B%20%0A%20%20%20%20%20%20color%3A%20black%20%21important%3B%20%0A%20%20%20%20%20%20filter%3Anone%20%21important%3B%20%0A%20%20%20%20%20%20%2Dms%2Dfilter%3A%20none%20%21important%3B%20%0A%20%20%20%7D%0A%0A%20%20%20hr%20%7B%20%0A%20%20%20%20%20%20page%2Dbreak%2Dbefore%3A%20always%3B%0A%20%20%20%7D%0A%0A%20%20%20pre%2C%20blockquote%20%7B%20%0A%20%20%20%20%20%20page%2Dbreak%2Dinside%3A%20avoid%3B%20%0A%20%20%20%7D%0A%0A%20%20%20tr%2C%20img%20%7B%20%0A%20%20%20%20%20%20page%2Dbreak%2Dinside%3A%20avoid%3B%20%0A%20%20%20%7D%0A%0A%20%20%20img%20%7B%20%0A%20%20%20%20%20%20max%2Dwidth%3A%20100%25%20%21important%3B%20%0A%20%20%20%7D%0A%0A%20%20%20%40page%20%3Aleft%20%7B%20%0A%20%20%20%20%20%20margin%3A%2015mm%2020mm%2015mm%2010mm%3B%20%0A%20%20%20%7D%0A%20%20%20%20%20%0A%20%20%20%40page%20%3Aright%20%7B%20%0A%20%20%20%20%20%20margin%3A%2015mm%2010mm%2015mm%2020mm%3B%20%0A%20%20%20%7D%0A%0A%0A%20%20%20h2%2C%20h3%20%7B%20%0A%20%20%20%20%20%20page%2Dbreak%2Dafter%3A%20avoid%3B%20%0A%20%20%20%7D%0A%7D%0A%0A%0A%0A%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>





<div id="deerfield-gages" class="section level1">
<h1>Deerfield gages</h1>
<div id="find-all-gages-on-non-impounded-streams-regionally-and-all-gages-in-the-deerfield-basin" class="section level2">
<h2>Find all gages on non-impounded streams regionally, and all gages in the Deerfield basin</h2>
<div id="load-packages" class="section level3">
<h3>load packages</h3>
<pre class="r"><code>library(conteStreamflow)
options(width=110)</code></pre>
<pre><code>## $width
## [1] 75</code></pre>
</div>
<div id="set-up-cache-and-local-dir" class="section level3">
<h3>Set up cache and local dir</h3>
<pre class="r"><code>#set up cache

cache.set( cache.dir=&quot;c:/alr/models/cache&quot; )

local.dir &lt;- &quot;C:/ALR/Models/conteStreamflow_new_england/eda/deerfield_data&quot;
setwd(local.dir)</code></pre>
</div>
<div id="locate-buffer-file" class="section level3">
<h3>Locate buffer file</h3>
<pre class="r"><code>#buffer file of all New England states pluse New York 
#    (area that we have impoundment count info)
#    with coastal areas removed (defined as a 10 km from coastline)
#    and highly permeable regions of Cape Cod and Long Island also removed

buffer.file &lt;- &quot;C:/ALR/Data/GeneralSpatialData/buffers/new_england_noncoastal&quot;


#note: this is the only input file needed, that is not accessed 
#    through a web service, or downloaded/cached from felek</code></pre>
</div>
<div id="load-gages-using-a-buffer-polygon-outline-of-area-of-interest" class="section level3">
<h3>Load gages using a buffer (polygon outline of area of interest)</h3>
<pre class="r"><code>g.spatial &lt;- gage.retrieve( buffer.file=buffer.file, max.da.sqkm=2000, min.da.sqkm=0 )</code></pre>
<pre><code>## Loading objects:
##   states.poly</code></pre>
<pre><code>## Warning: NWIS gage data missing geographic coordinates:
##  3 sites do not have lat coordinates and are being ignored
##  3 sites do not have long coordinates and are being ignored
##  01095503, 01098500, 01102500</code></pre>
<pre><code>## Gage retrieval complete 
## 1081 gages identified(Drainage area &gt; 0  and &lt;= 2000  square km)</code></pre>
<pre class="r"><code># number of records from initial retrieval
nrow(g.spatial)</code></pre>
<pre><code>## [1] 1081</code></pre>
<pre class="r"><code># 1081 regional gages</code></pre>
</div>
<div id="place-gages-into-nhdplus-catchments-to-pair-w-stream-reaches-and-basin-characteristics" class="section level3">
<h3>Place gages into NHDplus catchments to pair w/ stream reaches and basin characteristics</h3>
<pre class="r"><code>#assign each gage to nhdplus catchment
g.spatial &lt;- gage.place.nhdplus( g.spatial )</code></pre>
<pre><code>## Loading objects:
##   huc6
## Matching gages to catchments...completed matching 15 gages out of 1081  ...completed matching 29 gages out of 1081  ...completed matching 43 gages out of 1081  ...completed matching 63 gages out of 1081  ...completed matching 79 gages out of 1081  ...completed matching 108 gages out of 1081  ...completed matching 179 gages out of 1081  ...completed matching 271 gages out of 1081  ...completed matching 380 gages out of 1081  ...completed matching 432 gages out of 1081  ...completed matching 549 gages out of 1081  ...completed matching 674 gages out of 1081  ...completed matching 702 gages out of 1081  ...completed matching 772 gages out of 1081  ...completed matching 829 gages out of 1081  ...completed matching 887 gages out of 1081  ...completed matching 894 gages out of 1081  ...completed matching 916 gages out of 1081  ...completed matching 944 gages out of 1081  ...completed matching 958 gages out of 1081  ...completed matching 975 gages out of 1081  ...completed matching 1003 gages out of 1081  ...completed matching 1077 gages out of 1081  ...completed matching 1081 gages out of 1081  
## Completed plotting gages to catchments</code></pre>
<pre class="r"><code>#check that all gages were matched to a catchment (should be zero)
sum(is.na(g.spatial$FEATUREID))</code></pre>
<pre><code>## [1] 0</code></pre>
</div>
<div id="load-impoundments" class="section level3">
<h3>Load impoundments</h3>
<pre class="r"><code>#Load impoundment info
g.spatial&lt;-impound.retrieve( gages.spatial=g.spatial, 
                             cols=char.columns.retrieve(impoundment=T) ) </code></pre>
<pre><code>## Loading objects:
##   UpstreamStats</code></pre>
<pre class="r"><code>                              #get all impoundment characteristics available in Conte data set

#check that no gages are missing impoundment information (should be zeros)
apply(g.spatial@data, MARGIN=2, FUN=function(x) sum(is.na(x)))</code></pre>
<pre><code>##             FEATUREID             agency_cd               site_no            station_nm                lat_va 
##                     0                     0                     0                     0                     0 
##               long_va          coord_acy_cd            dec_lat_va           dec_long_va        coord_acy_cd.1 
##                     0                     0                     0                     0                     0 
##        coord_datum_cd    dec_coord_datum_cd                huc_cd         drain_area_va         sv_begin_date 
##                     0                     0                     0                     0                   257 
##           sv_end_date           sv_count_nu               da_sqkm          TNC_DamCount            deg_barr_1 
##                   257                    22                     0                     0                     0 
##            deg_barr_2            deg_barr_3            deg_barr_4            deg_barr_6            deg_barr_7 
##                     0                     0                     0                     0                     0 
##    OnChannelWaterSqKM  OnChannelWetlandSqKM   OffChannelWaterSqKM OffChannelWetlandSqKM 
##                     0                     0                     0                     0</code></pre>
<pre class="r"><code>#note: some values of gage info from USGS NWIS are missing
#         specifically, &quot;sv_begin_date&quot;, &quot;sv_end_date&quot;, &quot;sv_count_nu&quot;
#         but, we don't rely on these values 
#         (we calculate it ourselves from the actual flow observations retrieved), 
#         so it's fine if they're missing</code></pre>
</div>
<div id="create-subgroup-of-gages-only-in-the-deerfield-river-basin-itself" class="section level3">
<h3>Create subgroup of gages only in the Deerfield River basin itself</h3>
<pre class="r"><code>#Deefield's HUC8 is 01080203
deerfield &lt;- g.spatial[g.spatial$huc_cd==&quot;01080203&quot;,]

nrow(deerfield)</code></pre>
<pre><code>## [1] 9</code></pre>
<pre class="r"><code>#9 gages in the Deefield
View(deerfield@data)</code></pre>
</div>
<div id="quick-plot-of-deerfield-gages" class="section level3">
<h3>Quick plot of Deerfield gages</h3>
<pre class="r"><code>#should make a proper map in arc, of course, 
#    but here's a quick one to get an idea of where the gages are
cache.load.data( object=&quot;states.poly&quot;, file=&quot;states.rdata&quot;, dir=&quot;general_spatial&quot; )
plot(deerfield, pch=18)
plot(states.poly,add=T,border=&quot;orange&quot;)
plot(g.spatial,add=T,col=&quot;red&quot;)
plot(deerfield,add=T)</code></pre>
<p><img src="data:image/png;base64,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QAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQElCAkIAChAQUICSgACEBBQgJKEBIQAFCAgoQ+n+daXdGTTYlZwAAAABJRU5ErkJggg==" title="plot of chunk plot deerfield" alt="plot of chunk plot deerfield" width="672" /></p>
<pre><code>## Loading objects:
##   states.poly</code></pre>
</div>
<div id="load-flows-to-obtain-count-of-flow-observations" class="section level3">
<h3>Load flows to obtain count of flow observations</h3>
<pre class="r"><code># Though USGS/NWIS gage information includes start &amp; end dates, and # observations, this data is not always accurate and sometimes missing
# So, we load flows from all Deerfield gages, in order to obtain a count of years of observations


#Load/calculate/aggregate flow data for seasonal and annual timesteps
q.matrices&lt;-flow.retrieve( gages.spatial = deerfield, 
                           periods=&quot;annual&quot;,
                           template.date=create.template.date( start.year=1900, end.year=2014 ) )</code></pre>
<pre><code>## Begin loading and aggregating stream flow observations...
##   --  Loading/aggregating gage 1 of 9   --  
##         Gage 01167800, loaded 5337 rows
##   --  Loading/aggregating gage 2 of 9   --  
##         Gage 01168151, loaded 8531 rows
##   --  Loading/aggregating gage 3 of 9   --  
##         Gage 01168500, loaded 37016 rows
##   --  Loading/aggregating gage 4 of 9   --  
##         Gage 01168639, loaded 406 rows</code></pre>
<pre><code>## Warning: no non-missing arguments, returning NA
## Warning: no non-missing arguments, returning NA</code></pre>
<pre><code>##   --  Loading/aggregating gage 5 of 9   --  
##         Gage 01168640, loaded 406 rows</code></pre>
<pre><code>## Warning: no non-missing arguments, returning NA
## Warning: no non-missing arguments, returning NA</code></pre>
<pre><code>##   --  Loading/aggregating gage 6 of 9   --  
##         Gage 01169000, loaded 27343 rows
##   --  Loading/aggregating gage 7 of 9   --  
##         Gage 01169900, loaded 17662 rows
##   --  Loading/aggregating gage 8 of 9   --  
##         Gage 01170000, loaded 40385 rows
##   --  Loading/aggregating gage 9 of 9   --  
##         Gage 01170100, loaded 17189 rows</code></pre>
</div>
<div id="merge-count-of-flow-observations-w-spatial-data" class="section level3">
<h3>Merge count of flow observations w/ spatial data</h3>
<pre class="r"><code>#View record counts
print(q.matrices[[&quot;records&quot;]])</code></pre>
<pre><code>##      site_no                                       station_nm records.annual first.annual last.annual
## 520 01167800                   BEAVER BROOK AT WILMINGTON, VT             14         1964        1977
## 521 01168151                    DEERFIELD RIVER NEAR ROWE, MA             23         1975        1997
## 522 01168500                DEERFIELD RIVER AT CHARLEMONT, MA            101         1914        2014
## 523 01168639 UNNAMED CHANNEL TO WILDER BROOK AT BUCKLAND,  MA              0           NA          NA
## 524 01168640                     WILDER BROOK AT BUCKLAND, MA              0           NA          NA
## 525 01169000                 NORTH RIVER AT SHATTUCKVILLE, MA             74         1941        2014
## 526 01169900                      SOUTH RIVER NEAR CONWAY, MA             46         1967        2013
## 527 01170000          DEERFIELD RIVER NEAR WEST DEERFIELD, MA             74         1941        2014
## 528 01170100                     GREEN RIVER NEAR COLRAIN, MA             46         1968        2013</code></pre>
<pre class="r"><code>#Merge record count info w/ other spatial data
deerfield2 &lt;- merge( deerfield, q.matrices[[&quot;records&quot;]], by=&quot;site_no&quot;, suffixes=c(&quot;&quot;,&quot;2&quot;) )
# deerfield2@data</code></pre>
</div>
<div id="some-clean-up" class="section level3">
<h3>Some clean up</h3>
<pre class="r"><code>## pick only needed columns and rename to make it more readable

#select only desired columns
deerfield2@data &lt;- deerfield2@data[,c(&quot;agency_cd&quot;,&quot;site_no&quot;,&quot;station_nm&quot;,&quot;drain_area_va&quot;,&quot;da_sqkm&quot;,
                                      &quot;records.annual&quot;,&quot;first.annual&quot;,&quot;last.annual&quot;,
                                      &quot;huc_cd&quot;,&quot;dec_lat_va&quot;,&quot;dec_long_va&quot;,&quot;dec_coord_datum_cd&quot;,
                                      &quot;FEATUREID&quot;, &quot;TNC_DamCount&quot;,
                                      &quot;deg_barr_1&quot;,&quot;deg_barr_2&quot;,&quot;deg_barr_3&quot;,&quot;deg_barr_4&quot;,&quot;deg_barr_6&quot;,&quot;deg_barr_7&quot;,
                                      &quot;OnChannelWaterSqKM&quot;,&quot;OnChannelWetlandSqKM&quot;,&quot;OffChannelWaterSqKM&quot;,&quot;OffChannelWetlandSqKM&quot;)]

#rename
names(deerfield2@data) &lt;- c(&quot;agency_cd&quot;,&quot;site_no&quot;,&quot;station_nm&quot;,&quot;drain_sqmi&quot;,&quot;da_sqkm&quot;,
                                      &quot;years_obs&quot;,&quot;first_obs&quot;,&quot;last_obs&quot;,
                                      &quot;huc8&quot;,&quot;lat&quot;,&quot;long&quot;,&quot;datum&quot;,
                                      &quot;FEATUREID&quot;, &quot;TNC_DamCount&quot;,
                                      &quot;deg_barr_1&quot;,&quot;deg_barr_2&quot;,&quot;deg_barr_3&quot;,&quot;deg_barr_4&quot;,&quot;deg_barr_6&quot;,&quot;deg_barr_7&quot;,
                                      &quot;OnChannelWaterSqKM&quot;,&quot;OnChannelWetlandSqKM&quot;,&quot;OffChannelWaterSqKM&quot;,&quot;OffChannelWetlandSqKM&quot;)

#print (by order of #dams)
print(deerfield2@data[order(deerfield2$OnChannelWaterSqKM),])</code></pre>
<pre><code>##     agency_cd  site_no                                       station_nm drain_sqmi   da_sqkm years_obs
## 523      USGS 01168639 UNNAMED CHANNEL TO WILDER BROOK AT BUCKLAND,  MA       0.01    0.0259         0
## 524      USGS 01168640                     WILDER BROOK AT BUCKLAND, MA       0.07    0.1813         0
## 526      USGS 01169900                      SOUTH RIVER NEAR CONWAY, MA      24.10   62.4188        46
## 528      USGS 01170100                     GREEN RIVER NEAR COLRAIN, MA      41.40  107.2256        46
## 525      USGS 01169000                 NORTH RIVER AT SHATTUCKVILLE, MA      89.00  230.5091        74
## 520      USGS 01167800                   BEAVER BROOK AT WILMINGTON, VT       6.38   16.5241        14
## 521      USGS 01168151                    DEERFIELD RIVER NEAR ROWE, MA     254.00  657.8575        23
## 522      USGS 01168500                DEERFIELD RIVER AT CHARLEMONT, MA     361.00  934.9864       101
## 527      USGS 01170000          DEERFIELD RIVER NEAR WEST DEERFIELD, MA     557.00 1442.6244        74
##     first_obs last_obs     huc8   lat   long datum FEATUREID TNC_DamCount deg_barr_1 deg_barr_2 deg_barr_3
## 523        NA       NA 01080203 42.60 -72.78 NAD83  10294942            2          0          0          0
## 524        NA       NA 01080203 42.60 -72.78 NAD83  10294942            2          0          0          0
## 526      1967     2013 01080203 42.54 -72.69 NAD83  10295340            3          0          0          0
## 528      1968     2013 01080203 42.70 -72.67 NAD83  10294622            2          1          0          0
## 525      1941     2014 01080203 42.64 -72.73 NAD83  10294784            7          3          1          1
## 520      1964     1977 01080203 42.86 -72.85 NAD83  10294344            3          1          2          0
## 521      1975     1997 01080203 42.68 -72.98 NAD83  10294674           17         11          2          1
## 522      1914     2014 01080203 42.63 -72.85 NAD83  10294852           26         11          2          1
## 527      1941     2014 01080203 42.54 -72.65 NAD83  10295286           43         14          3          2
##     deg_barr_4 deg_barr_6 deg_barr_7 OnChannelWaterSqKM OnChannelWetlandSqKM OffChannelWaterSqKM
## 523          0          2          0            0.04913               0.3757            0.007897
## 524          0          2          0            0.04913               0.3757            0.007897
## 526          0          3          0            0.19603               0.9438            0.025442
## 528          0          1          0            0.49821               1.2331            0.024681
## 525          0          2          0            0.65192               3.1231            0.080991
## 520          0          0          0            0.76763               1.7255            0.086384
## 521          0          3          0           20.25538              24.7988            0.200621
## 522          0         12          0           21.40167              27.4864            0.276305
## 527          4         20          0           22.59959              33.7779            0.443747
##     OffChannelWetlandSqKM
## 523                0.4527
## 524                0.4527
## 526                0.7468
## 528                0.2704
## 525                1.5315
## 520                0.5925
## 521                6.5697
## 522                9.0598
## 527               13.5425</code></pre>
</div>
<div id="write-rdata-and-csv-output" class="section level3">
<h3>Write rdata and csv output</h3>
<pre class="r"><code>#save locally
setwd(local.dir)

#save gage rdata
save(g.spatial, file=&quot;g_spatial.rdata&quot;)
save(deerfield, file=&quot;deerfield_spatial.rdata&quot;)

#write table of deerfield gage info
write.csv( deerfield2@data, file=&quot;deerfield_gages_table.csv&quot;, row.names=F )</code></pre>
</div>
<div id="export-shapefile" class="section level3">
<h3>Export shapefile</h3>
<pre class="r"><code>deerfield3&lt;-deerfield2

#rename columns, so that they don't get weirdly abbreviated in Arc
names(deerfield3@data) &lt;- c(&quot;agency_cd&quot;,&quot;site_no&quot;,&quot;station_nm&quot;,&quot;da_sqmi&quot;,&quot;da_sqkm&quot;,
                                      &quot;years_obs&quot;,&quot;first_obs&quot;,&quot;last_obs&quot;,
                                      &quot;huc8&quot;,&quot;lat&quot;,&quot;long&quot;,&quot;datum&quot;,
                                      &quot;FEATUREID&quot;, &quot;TNC_Dams&quot;,
                                      &quot;degbarr_1&quot;,&quot;degbarr_2&quot;,&quot;degbarr_3&quot;,&quot;degbarr_4&quot;,&quot;degbarr_6&quot;,&quot;degbarr_7&quot;,
                                      &quot;OnChnlWatr&quot;,&quot;OnChnlWetl&quot;,&quot;OffChlWatr&quot;,&quot;OffChlWetl&quot;)

writeOGR( deerfield3, &quot;.&quot;, layer=&quot;deerfield_gages&quot;, driver=&quot;ESRI Shapefile&quot; )</code></pre>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
